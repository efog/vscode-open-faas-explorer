name: $(Year:yy).$(DayOfYear).vscode-open-faas-explorer.$(Build.SourceBranchName).$(Rev:rr)
trigger:
- master
pool:
  vmImage: 'windows-latest'
steps:
- task: NodeTool@0
  inputs:
    versionSpec: '10.x'
  displayName: 'Install Node.js'
- bash: |
    npm install
  displayName: Install Node.js dependencies
- task: Npm@1
  inputs:
    customCommand: test 
  displayName: Run unit tests
  continueOnError: true
- task: PublishTestResults@2
  condition: succeededOrFailed()
  inputs:
    testRunner: JUnit
    testResultsFiles: '**/test/test-results.xml'
